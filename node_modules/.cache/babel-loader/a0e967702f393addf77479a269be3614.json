{"remainingRequest":"D:\\Project\\real-estate\\node_modules\\babel-loader\\lib\\index.js!D:\\Project\\real-estate\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Project\\real-estate\\src\\ads\\adActions.js","dependencies":[{"path":"D:\\Project\\real-estate\\src\\ads\\adActions.js","mtime":1582722012841},{"path":"D:\\Project\\real-estate\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Project\\real-estate\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Project\\real-estate\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CgovKiBlc2xpbnQtZGlzYWJsZSAqLwppbXBvcnQgeyBnZXRBbGxBZHMsIGNyZWF0ZUFkIH0gZnJvbSAnQC9hZHMvYWRNdXRhdGlvbnMnOwppbXBvcnQgY29uZmlnIGZyb20gJ0AvY29uZmlnL2NvbmZpZyc7Cgp2YXIgZ2V0QXV0aFRva2VuID0gZnVuY3Rpb24gZ2V0QXV0aFRva2VuKCkgewogIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXV0aHRva2VuJyk7Cn07Ci8qIEdFVCBVU0VSTkFNRSAqLwoKCnZhciB1c2VybmFtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VybmFtZSIpOwovKiBHRVQgVVNFUk5BTUUgKi8KCmV4cG9ydCBkZWZhdWx0IHsKICBnZXRBbGw6IGZ1bmN0aW9uIGdldEFsbChjb250ZXh0KSB7CiAgICBmZXRjaCgiaHR0cHM6Ly9iYWFzLmtpbnZleS5jb20vYXBwZGF0YS8iLmNvbmNhdChjb25maWcuYXBwS2V5LCAiL2FkcyIpLCB7CiAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgIGhlYWRlcnM6IHsKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICdBdXRob3JpemF0aW9uJzogIktpbnZleSAiLmNvbmNhdChnZXRBdXRoVG9rZW4oKSkKICAgICAgfQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIHJldHVybiByZXMuanNvbigpOwogICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gY29udGV4dC5jb21taXQoZ2V0QWxsQWRzKGRhdGEpKTsKICAgIH0pOwogIH0sCiAgZ2V0QWxsRm9ySG9tZTogZnVuY3Rpb24gZ2V0QWxsRm9ySG9tZShjb250ZXh0KSB7CiAgICBmZXRjaCgiaHR0cHM6Ly9iYWFzLmtpbnZleS5jb20vYXBwZGF0YS8iLmNvbmNhdChjb25maWcuYXBwS2V5LCAiL2FkcyIpLCB7CiAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgIGhlYWRlcnM6IHsKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICdBdXRob3JpemF0aW9uJzogIktpbnZleSAiLmNvbmNhdChnZXRBdXRoVG9rZW4oKSkKICAgICAgfQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIHJldHVybiByZXMuanNvbigpOwogICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gY29uc29sZS5sb2coZGF0YSk7CiAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBjb250ZXh0LmNvbW1pdChnZXRBbGxBZHMoZGF0YSkpOwogICAgfSk7CiAgfSwKICBnZXRTZWFyY2g6IGZ1bmN0aW9uIGdldFNlYXJjaChjb250ZXh0LCBjaXR5KSB7CiAgICBmZXRjaCgiaHR0cHM6Ly9iYWFzLmtpbnZleS5jb20vYXBwZGF0YS8iLmNvbmNhdChjb25maWcuYXBwS2V5LCAiL2FkcyIpLCB7CiAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgIGhlYWRlcnM6IHsKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICdBdXRob3JpemF0aW9uJzogIktpbnZleSAiLmNvbmNhdChnZXRBdXRoVG9rZW4oKSkKICAgICAgfQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIHJldHVybiByZXMuanNvbigpOwogICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGFkKSB7CiAgICAgICAgcmV0dXJuIGFkLmNpdHkudG9Mb3dlckNhc2UoKSA9PT0gY2l0eS50b0xvd2VyQ2FzZSgpOwogICAgICB9KTsKICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgcmV0dXJuIGNvbnRleHQuY29tbWl0KGdldEFsbEFkcyhkYXRhKSk7CiAgICB9KTsKICB9LAogIGdldFByb2ZpbGU6IGZ1bmN0aW9uIGdldFByb2ZpbGUoY29udGV4dCkgewogICAgZmV0Y2goImh0dHBzOi8vYmFhcy5raW52ZXkuY29tL2FwcGRhdGEvIi5jb25jYXQoY29uZmlnLmFwcEtleSwgIi9hZHMiKSwgewogICAgICBtZXRob2Q6ICdHRVQnLAogICAgICBoZWFkZXJzOiB7CiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAnQXV0aG9yaXphdGlvbic6ICJLaW52ZXkgIi5jb25jYXQoZ2V0QXV0aFRva2VuKCkpCiAgICAgIH0KICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICByZXR1cm4gcmVzLmpzb24oKTsKICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgcmV0dXJuIGRhdGEuZmlsdGVyKGZ1bmN0aW9uIChhZCkgewogICAgICAgIHJldHVybiBhZC51c2VyID09PSB1c2VybmFtZTsKICAgICAgfSk7CiAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBjb250ZXh0LmNvbW1pdChnZXRBbGxBZHMoZGF0YSkpOwogICAgfSk7CiAgfSwKICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZShjb250ZXh0LCBkYXRhKSB7CiAgICByZXR1cm4gZmV0Y2goImh0dHBzOi8vYmFhcy5raW52ZXkuY29tL2FwcGRhdGEvIi5jb25jYXQoY29uZmlnLmFwcEtleSwgIi9hZHMiKSwgewogICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgaGVhZGVyczogewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAiS2ludmV5ICIuY29uY2F0KGdldEF1dGhUb2tlbigpKQogICAgICB9LAogICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIHJldHVybiByZXMuanNvbigpOwogICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YVJlcykgewogICAgICByZXR1cm4gY29udGV4dC5jb21taXQoY3JlYXRlQWQoZGF0YVJlcykpOwogICAgfSk7CiAgfSwKICBkZWxldGVBZDogZnVuY3Rpb24gZGVsZXRlQWQoY29udGV4dCwgYWQpIHsKICAgIHJldHVybiBmZXRjaCgiaHR0cHM6Ly9iYWFzLmtpbnZleS5jb20vYXBwZGF0YS8iLmNvbmNhdChjb25maWcuYXBwS2V5LCAiL2Fkcy8iKS5jb25jYXQoYWQuX2lkKSwgewogICAgICBtZXRob2Q6ICdERUxFVEUnLAogICAgICBoZWFkZXJzOiB7CiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAnQXV0aG9yaXphdGlvbic6ICJLaW52ZXkgIi5jb25jYXQoZ2V0QXV0aFRva2VuKCkpCiAgICAgIH0KICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICByZXR1cm4gcmVzLmpzb24oKTsKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["D:/Project/real-estate/src/ads/adActions.js"],"names":["getAllAds","createAd","config","getAuthToken","localStorage","getItem","username","getAll","context","fetch","appKey","method","headers","then","res","json","data","commit","getAllForHome","console","log","getSearch","city","filter","ad","toLowerCase","getProfile","user","create","body","JSON","stringify","dataRes","deleteAd","_id"],"mappings":"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","sourcesContent":["/* eslint-disable */\r\nimport { getAllAds, createAd } from '@/ads/adMutations'\r\nimport config from '@/config/config'\r\nconst getAuthToken= () => localStorage.getItem('authtoken');\r\n\r\n/* GET USERNAME */\r\nconst username = localStorage.getItem(\"username\");\r\n/* GET USERNAME */\r\n\r\nexport default {\r\n    getAll(context)  {\r\n        fetch(`https://baas.kinvey.com/appdata/${config.appKey}/ads`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Kinvey ${getAuthToken()}`\r\n            }\r\n        }).then(res => res.json())\r\n        .then(data => context.commit(getAllAds(data)));\r\n    },\r\n    getAllForHome(context)  {\r\n        fetch(`https://baas.kinvey.com/appdata/${config.appKey}/ads`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Kinvey ${getAuthToken()}`\r\n            }\r\n        }).then(res => res.json())\r\n            .then(data => console.log(data))\r\n            .then(data => context.commit(getAllAds(data)));\r\n    },\r\n    getSearch(context, city)  {\r\n        fetch(`https://baas.kinvey.com/appdata/${config.appKey}/ads`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Kinvey ${getAuthToken()}`\r\n            }\r\n        }).then(res => res.json())\r\n        .then(function(data) {\r\n            return data.filter(ad => {\r\n            return ad.city.toLowerCase() === city.toLowerCase()\r\n            })             \r\n        })\r\n        .then(data => context.commit(getAllAds(data)));\r\n    },\r\n    getProfile(context)  {\r\n        fetch(`https://baas.kinvey.com/appdata/${config.appKey}/ads`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Kinvey ${getAuthToken()}`\r\n            }\r\n        }).then(res => res.json())\r\n        .then(function(data) {\r\n            return data.filter(ad => {\r\n            return ad.user === username\r\n            })             \r\n        })\r\n        .then(data => context.commit(getAllAds(data)));\r\n    },\r\n    create(context, data) {\r\n        return fetch(`https://baas.kinvey.com/appdata/${config.appKey}/ads`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Kinvey ${getAuthToken()}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        }).then(res => res.json())\r\n        .then(dataRes => context.commit(createAd(dataRes)));\r\n    },\r\n    deleteAd(context, ad) {\r\n        return fetch(`https://baas.kinvey.com/appdata/${config.appKey}/ads/${ad._id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Kinvey ${getAuthToken()}`\r\n            }\r\n        }).then(res => res.json())\r\n    },\r\n\r\n}"]}]}