{"remainingRequest":"D:\\Project\\real-estate\\node_modules\\babel-loader\\lib\\index.js!D:\\Project\\real-estate\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Project\\real-estate\\src\\ads\\adActions.js","dependencies":[{"path":"D:\\Project\\real-estate\\src\\ads\\adActions.js","mtime":1582650803547},{"path":"D:\\Project\\real-estate\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Project\\real-estate\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Project\\real-estate\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CgovKiBlc2xpbnQtZGlzYWJsZSAqLwppbXBvcnQgeyBnZXRBbGxBZHMsIGNyZWF0ZUFkIH0gZnJvbSAnQC9hZHMvYWRNdXRhdGlvbnMnOwppbXBvcnQgY29uZmlnIGZyb20gJ0AvY29uZmlnL2NvbmZpZyc7Cgp2YXIgZ2V0QXV0aFRva2VuID0gZnVuY3Rpb24gZ2V0QXV0aFRva2VuKCkgewogIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXV0aHRva2VuJyk7Cn07Ci8qIEdFVCBVU0VSTkFNRSAqLwoKCnZhciB1c2VybmFtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VybmFtZSIpOwovKiBHRVQgVVNFUk5BTUUgKi8KCmV4cG9ydCBkZWZhdWx0IHsKICBnZXRBbGw6IGZ1bmN0aW9uIGdldEFsbChjb250ZXh0KSB7CiAgICBmZXRjaCgiaHR0cHM6Ly9iYWFzLmtpbnZleS5jb20vYXBwZGF0YS8iLmNvbmNhdChjb25maWcuYXBwS2V5LCAiL2FkcyIpLCB7CiAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgIGhlYWRlcnM6IHsKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICdBdXRob3JpemF0aW9uJzogIktpbnZleSAiLmNvbmNhdChnZXRBdXRoVG9rZW4oKSkKICAgICAgfQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIHJldHVybiByZXMuanNvbigpOwogICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gY29udGV4dC5jb21taXQoZ2V0QWxsQWRzKGRhdGEpKTsKICAgIH0pOwogIH0sCiAgZ2V0U2VhcmNoOiBmdW5jdGlvbiBnZXRTZWFyY2goY29udGV4dCwgY2l0eSkgewogICAgZmV0Y2goImh0dHBzOi8vYmFhcy5raW52ZXkuY29tL2FwcGRhdGEvIi5jb25jYXQoY29uZmlnLmFwcEtleSwgIi9hZHMiKSwgewogICAgICBtZXRob2Q6ICdHRVQnLAogICAgICBoZWFkZXJzOiB7CiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAnQXV0aG9yaXphdGlvbic6ICJLaW52ZXkgIi5jb25jYXQoZ2V0QXV0aFRva2VuKCkpCiAgICAgIH0KICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICByZXR1cm4gcmVzLmpzb24oKTsKICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgcmV0dXJuIGRhdGEuZmlsdGVyKGZ1bmN0aW9uIChhZCkgewogICAgICAgIHJldHVybiBhZC5jaXR5LnRvTG93ZXJDYXNlKCkgPT09IGNpdHkudG9Mb3dlckNhc2UoKTsKICAgICAgfSk7CiAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBjb250ZXh0LmNvbW1pdChnZXRBbGxBZHMoZGF0YSkpOwogICAgfSk7CiAgfSwKICBnZXRQcm9maWxlOiBmdW5jdGlvbiBnZXRQcm9maWxlKGNvbnRleHQpIHsKICAgIGZldGNoKCJodHRwczovL2JhYXMua2ludmV5LmNvbS9hcHBkYXRhLyIuY29uY2F0KGNvbmZpZy5hcHBLZXksICIvYWRzIiksIHsKICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgaGVhZGVyczogewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAiS2ludmV5ICIuY29uY2F0KGdldEF1dGhUb2tlbigpKQogICAgICB9CiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgcmV0dXJuIHJlcy5qc29uKCk7CiAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBkYXRhLmZpbHRlcihmdW5jdGlvbiAoYWQpIHsKICAgICAgICByZXR1cm4gYWQudXNlciA9PT0gdXNlcm5hbWU7CiAgICAgIH0pOwogICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gY29udGV4dC5jb21taXQoZ2V0QWxsQWRzKGRhdGEpKTsKICAgIH0pOwogIH0sCiAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoY29udGV4dCwgZGF0YSkgewogICAgcmV0dXJuIGZldGNoKCJodHRwczovL2JhYXMua2ludmV5LmNvbS9hcHBkYXRhLyIuY29uY2F0KGNvbmZpZy5hcHBLZXksICIvYWRzIiksIHsKICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgIGhlYWRlcnM6IHsKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICdBdXRob3JpemF0aW9uJzogIktpbnZleSAiLmNvbmNhdChnZXRBdXRoVG9rZW4oKSkKICAgICAgfSwKICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSkKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICByZXR1cm4gcmVzLmpzb24oKTsKICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGFSZXMpIHsKICAgICAgcmV0dXJuIGNvbnRleHQuY29tbWl0KGNyZWF0ZUFkKGRhdGFSZXMpKTsKICAgIH0pOwogIH0sCiAgZGVsZXRlQWQ6IGZ1bmN0aW9uIGRlbGV0ZUFkKGNvbnRleHQsIGFkKSB7CiAgICByZXR1cm4gZmV0Y2goImh0dHBzOi8vYmFhcy5raW52ZXkuY29tL2FwcGRhdGEvIi5jb25jYXQoY29uZmlnLmFwcEtleSwgIi9hZHMvIikuY29uY2F0KGFkLl9pZCksIHsKICAgICAgbWV0aG9kOiAnREVMRVRFJywKICAgICAgaGVhZGVyczogewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAiS2ludmV5ICIuY29uY2F0KGdldEF1dGhUb2tlbigpKQogICAgICB9CiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgcmV0dXJuIHJlcy5qc29uKCk7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["D:/Project/real-estate/src/ads/adActions.js"],"names":["getAllAds","createAd","config","getAuthToken","localStorage","getItem","username","getAll","context","fetch","appKey","method","headers","then","res","json","data","commit","getSearch","city","filter","ad","toLowerCase","getProfile","user","create","body","JSON","stringify","dataRes","deleteAd","_id"],"mappings":"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","sourcesContent":["/* eslint-disable */\r\nimport { getAllAds, createAd } from '@/ads/adMutations'\r\nimport config from '@/config/config'\r\nconst getAuthToken= () => localStorage.getItem('authtoken');\r\n\r\n/* GET USERNAME */\r\nconst username = localStorage.getItem(\"username\");\r\n/* GET USERNAME */\r\n\r\nexport default {\r\n    getAll(context)  {\r\n        fetch(`https://baas.kinvey.com/appdata/${config.appKey}/ads`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Kinvey ${getAuthToken()}`\r\n            }\r\n        }).then(res => res.json())\r\n        .then(data => context.commit(getAllAds(data)));\r\n    },\r\n    getSearch(context, city)  {\r\n        fetch(`https://baas.kinvey.com/appdata/${config.appKey}/ads`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Kinvey ${getAuthToken()}`\r\n            }\r\n        }).then(res => res.json())\r\n        .then(function(data) {\r\n            return data.filter(ad => {\r\n            return ad.city.toLowerCase() === city.toLowerCase()\r\n            })             \r\n        })\r\n        .then(data => context.commit(getAllAds(data)));\r\n    },\r\n    getProfile(context)  {\r\n        fetch(`https://baas.kinvey.com/appdata/${config.appKey}/ads`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Kinvey ${getAuthToken()}`\r\n            }\r\n        }).then(res => res.json())\r\n        .then(function(data) {\r\n            return data.filter(ad => {\r\n            return ad.user === username\r\n            })             \r\n        })\r\n        .then(data => context.commit(getAllAds(data)));\r\n    },\r\n    create(context, data) {\r\n        return fetch(`https://baas.kinvey.com/appdata/${config.appKey}/ads`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Kinvey ${getAuthToken()}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        }).then(res => res.json())\r\n        .then(dataRes => context.commit(createAd(dataRes)));\r\n    },\r\n    deleteAd(context, ad) {\r\n        return fetch(`https://baas.kinvey.com/appdata/${config.appKey}/ads/${ad._id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Kinvey ${getAuthToken()}`\r\n            }\r\n        }).then(res => res.json())\r\n    },\r\n\r\n}"]}]}